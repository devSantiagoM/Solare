<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Solare - Panel de Administración" />
    <title>Solare | Admin</title>
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/footer.css" />
    <link rel="stylesheet" href="../css/admin.css" />
    <script type="module" src="../js/supabase.js"></script>
    <script src="../js/navbar.js" defer></script>
    <script src="../js/layout.js" defer></script>
    <script src="../js/admin.js" defer></script>
  </head>
  <body class="admin-body">
    <nav class="navbar">
      <div class="navbar-container" id="navbar-root"></div>
    </nav>

    <main id="main-content" tabindex="-1" class="admin-main">
      <section class="admin-shell">
        <div class="admin-layout container">
          <!-- Sidebar -->
          <aside class="admin-sidebar">
            <p class="admin-kicker">Panel</p>
            <h1 class="admin-title">Administración Solare</h1>
            <p class="admin-subtitle">
              Gestiona la información clave de la tienda. Este panel está
              limitado a cuentas con rol de administrador.
            </p>

            <div class="admin-account">
              <p class="admin-section-label">Cuenta</p>
              <p id="admin-user-email" class="admin-account-email">
                Cargando email...
              </p>
              <p id="admin-user-role" class="admin-account-role">
                Cargando rol...
              </p>
            </div>

            <nav aria-label="Secciones del panel" class="admin-nav">
              <p class="admin-section-label">Navegación</p>
              <div class="admin-nav-list">
                <button
                  class="admin-nav-btn admin-nav-btn-active"
                  data-section="dashboard"
                >
                  Dashboard
                </button>
                <button class="admin-nav-btn" data-section="products">
                  Productos
                </button>
                <button class="admin-nav-btn" data-section="orders">
                  Pedidos
                </button>
              </div>
            </nav>

            <div class="admin-sidebar-actions">
              <button id="btn-go-home" class="admin-btn admin-btn-primary">
                Ir a inicio
              </button>
              <button id="btn-logout" class="admin-btn admin-btn-ghost">
                Cerrar sesión
              </button>
            </div>

            <p id="admin-status" class="admin-status">
              Verificando permisos de administrador...
            </p>
          </aside>

          <!-- Contenido principal -->
          <div class="admin-content">
            <!-- Dashboard -->
            <section
              data-admin-section="dashboard"
              class="admin-section admin-section-active"
            >
              <header class="admin-section-header">
                <p class="admin-section-kicker">Resumen</p>
                <h2 class="admin-section-title">Dashboard general</h2>
              </header>

              <div class="admin-cards-grid">
                <article class="admin-card">
                  <p class="admin-card-label">Usuarios</p>
                  <p id="dash-users-count" class="admin-card-value">—</p>
                  <p class="admin-card-help">
                    Usuarios registrados (dato de ejemplo).
                  </p>
                </article>

                <article class="admin-card">
                  <p class="admin-card-label">Productos</p>
                  <p id="dash-products-count" class="admin-card-value">—</p>
                  <p class="admin-card-help">
                    Productos activos en catálogo (dummy).
                  </p>
                </article>

                <article class="admin-card">
                  <p class="admin-card-label">Pedidos</p>
                  <p id="dash-orders-count" class="admin-card-value">—</p>
                  <p class="admin-card-help">
                    Pedidos totales (dato simulado).
                  </p>
                </article>
              </div>
            </section>

            <!-- Productos -->
            <section data-admin-section="products" class="admin-section">
              <header class="admin-section-header">
                <p class="admin-section-kicker">Catálogo</p>
                <h2 class="admin-section-title">Gestión de productos</h2>
              </header>

              <div class="admin-two-column">
                <!-- Tabla de productos -->
                <div class="admin-table-card">
                  <div class="admin-table-header">
                    <p class="admin-table-title">Lista de productos</p>
                    <span id="products-count" class="admin-table-meta"
                      >0 items</span
                    >
                  </div>
                  <div class="admin-table-scroll">
                    <table class="admin-table">
                      <thead>
                        <tr>
                          <th>Producto</th>
                          <th>Categoría</th>
                          <th class="admin-th-right">Precio</th>
                        </tr>
                      </thead>
                      <tbody id="products-table-body">
                        <!-- Filas dummy generadas por JS -->
                      </tbody>
                    </table>
                  </div>
                </div>

                <!-- Formulario de producto -->
                <div class="admin-form-card">
                  <p class="admin-section-kicker">Nuevo producto (demo)</p>

                  <form id="product-form" class="admin-form">
                    <div class="admin-form-group">
                      <label for="product-name" class="admin-label"
                        >Nombre</label
                      >
                      <input
                        id="product-name"
                        name="name"
                        type="text"
                        placeholder="Blazer estructurado"
                        class="admin-input"
                      />
                    </div>

                    <div class="admin-form-row">
                      <div class="admin-form-group">
                        <label for="product-category" class="admin-label"
                          >Categoría</label
                        >
                        <select
                          id="product-category"
                          name="category"
                          class="admin-input"
                        >
                          <option value="mujer">Mujer</option>
                          <option value="hombre">Hombre</option>
                          <option value="accesorios">Accesorios</option>
                        </select>
                      </div>

                      <div class="admin-form-group">
                        <label for="product-price" class="admin-label"
                          >Precio</label
                        >
                        <input
                          id="product-price"
                          name="price"
                          type="number"
                          step="0.01"
                          min="0"
                          placeholder="14999"
                          class="admin-input"
                        />
                      </div>
                    </div>

                    <div class="admin-form-group">
                      <label for="product-image" class="admin-label"
                        >Imagen del producto</label
                      >
                      <input
                        id="product-image"
                        name="image"
                        type="file"
                        accept="image/*"
                        class="admin-input-file"
                      />
                      <p class="admin-help-text">
                        Esta subida es solo demostrativa y no guarda la imagen
                        en el servidor todavía.
                      </p>
                    </div>

                    <button
                      type="submit"
                      class="admin-btn admin-btn-primary admin-btn-inline"
                    >
                      Agregar a la lista
                    </button>

                    <p id="product-form-message" class="admin-form-message">
                      Producto agregado a la lista local.
                    </p>
                  </form>
                </div>
              </div>
            </section>

            <!-- Pedidos -->
            <section data-admin-section="orders" class="admin-section">
              <header class="admin-section-header">
                <p class="admin-section-kicker">Actividad</p>
                <h2 class="admin-section-title">Gestor de pedidos</h2>
              </header>

              <div class="admin-table-card">
                <div class="admin-table-header">
                  <p class="admin-table-title">Pedidos recientes (demo)</p>
                  <span id="orders-count" class="admin-table-meta"
                    >0 pedidos</span
                  >
                </div>
                <div class="admin-table-scroll">
                  <table class="admin-table">
                    <thead>
                      <tr>
                        <th># Pedido</th>
                        <th>Cliente</th>
                        <th>Estado</th>
                        <th class="admin-th-right">Total</th>
                      </tr>
                    </thead>
                    <tbody id="orders-table-body">
                      <!-- Filas dummy generadas por JS -->
                    </tbody>
                  </table>
                </div>
              </div>
            </section>
          </div>
        </div>
      </section>
    </main>

    <footer id="footer"></footer>
  </body>
</html>
